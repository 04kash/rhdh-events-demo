"use strict";(self.webpackChunkred_hat_developer_hub_backstage_plugin_dynamic_home_page=self.webpackChunkred_hat_developer_hub_backstage_plugin_dynamic_home_page||[]).push([[5358,1272,9103],{17128:(e,o,s)=>{s.r(o),s.d(o,{DynamicCustomizableHomePage:()=>h});var r=s(31085),t=s(19304),i=s(95478),a=s(82326),n=s(16454),c=s(65995),d=s(54524),p=s(66670),l=s(47552);const u=(0,s(1321).n9)()({cardWrapper:{'& > div[class*="MuiCard-root"]':{width:"100%",height:"100%"},'& div[class*="MuiCardContent-root"]':{overflow:"auto"}}}),g=e=>{const{classes:o}=u(),s=(0,i.useMemo)((()=>e.mountPoints.map(((e,o)=>{const s=(o+1).toString(),r={};if(e.config?.layouts)for(const[o,t]of Object.entries(e.config.layouts))r[o]={i:s,x:t.x??0,y:t.y??0,w:t.w??12,h:t.h??4,isDraggable:!1,isResizable:!1};else["xl","lg","md","sm","xs","xxs"].forEach((e=>{r[e]={i:s,x:0,y:0,w:12,h:4,isDraggable:!1,isResizable:!1}}));return{id:s,Component:e.Component,props:e.config?.props,layouts:r}}))),[e.mountPoints]),t=(0,i.useMemo)((()=>s.map((e=>(0,r.jsx)("div",{"data-cardid":e.id,"data-testid":`home-page card ${e.id}`,"data-layout":JSON.stringify(e.layouts),className:o.cardWrapper,children:(0,r.jsx)(p.t,{children:(0,r.jsx)(e.Component,{...e.props})})},e.id)))),[s,o.cardWrapper]);return(0,r.jsx)(l.S,{children:t})},m=e=>{const o=(0,i.useMemo)((()=>{if(!e.cards)return[];const o=e.cards.filter((e=>!1!==e.enabled&&(!e.config?.priority||e.config.priority>=0)));return o.sort(((e,o)=>(o.config?.priority??0)-(e.config?.priority??0))),o}),[e.cards]);return(0,r.jsxs)(a.Y,{themeId:"home",children:[(0,r.jsx)(d.Y,{...e}),(0,r.jsx)(n.U,{children:0===o.length?(0,r.jsx)(c.p,{title:"No home page cards (mount points) configured or found.",missing:"content"}):(0,r.jsx)(g,{mountPoints:o})})]})},h=e=>{const o=(0,t.u)();return(0,r.jsx)(m,{...e,cards:o})}}}]);
//# sourceMappingURL=5358.d03ece09.chunk.js.map